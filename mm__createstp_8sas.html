<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- HTML header for doxygen 1.8.17-->
<html xmlns="https://www.w3.org/1999/xhtml" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=9" />
    <meta property="og:type" content="website">
    <meta name="author" content="Allan Bowe">
    <meta name="description" property="og:description" content="{{ page.brief }}">
    <meta name="generator" content="Doxygen 1.8.18" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>MacroCore: meta/mm_createstp.sas File Reference</title>
    <link href="tabs.css" rel="stylesheet" type="text/css" />
    <script type="text/javascript" src="jquery.js"></script>
    <script type="text/javascript" src="dynsections.js"></script>
    <link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
 <link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
    <link href="doxygen.css" rel="stylesheet" type="text/css" />
    <link rel="icon" href="https://sasjs.io/img/runningman.jpg" />
    <link href="new_stylesheet.css" rel="stylesheet" type="text/css"/>
  </head>
  <body>
    <div id="top">
      <!-- do not remove this div, it is closed by doxygen! -->
      <div id="titlearea">
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr style="height: 56px">
              <td id="projectlogo">
                <img alt="Logo" src="Macro_core_website_1.png" />
              </td>
              <td id="projectalign" style="padding-left: 0.5em">
                <div id="projectname">
                </div>
                <div id="projectbrief">
                  Production Ready Macros for SAS Application Developers<br />
                  <a href="https://github.com/sasjs/core">
                    https://github.com/sasjs/core
                  </a>
                </div>
                <meta name="Description" content="Production Ready Macros for SAS Application Developers" />
              </td>
            </tr>
          </tbody>
        </table>
      </div>
      <!-- end header part -->
    </div>
  </body>
</html>
<!-- Generated by Doxygen 1.8.18 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('mm__createstp_8sas.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">mm_createstp.sas File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Create a type 1 Stored Process (9.2 compatible)  
<a href="#details">More...</a></p>

<p><a href="mm__createstp_8sas_source.html">Go to the source code of this file.</a></p>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This macro creates a Type 1 stored process, and also the necessary PromptGroup / File / TextStore objects. It requires the location (or uri) for the App Server / Directory / Folder (Tree) objects. To upgrade this macro to work with type 2 (which can embed SAS code and is compabitible with SAS from 9.3 onwards) then the UsageVersion should change to 2000000 and the TextStore object updated. The ComputeServer reference will also be to ServerContext rather than LogicalServer.</p>
<p>This macro is idempotent - if you run it twice, it will only create an STP once.</p>
<p>usage (type 1 STP): </p><pre class="fragment">%mm_createstp(stpname=MyNewSTP
  ,filename=mySpecialProgram.sas
  ,directory=SASEnvironment/SASCode/STPs
  ,tree=/User Folders/sasdemo
  ,outds=work.uris)
</pre><p>If you wish to remove the new STP you can do so by running: </p><pre class="fragment">data _null_;
  set work.uris;
  rc1 = METADATA_DELOBJ(texturi);
  rc2 = METADATA_DELOBJ(prompturi);
  rc3 = METADATA_DELOBJ(fileuri);
  rc4 = METADATA_DELOBJ(stpuri);
  putlog (_all_)(=);
run;
</pre><p>usage (type 2 STP): mm_createstp(stpname=MyNewType2STP ,filename=mySpecialProgram.sas ,directory=SASEnvironment/SASCode/STPs ,tree=/User Folders/sasdemo ,Server=SASApp ,stptype=2)</p>
<h4>SAS Macros </h4>
<ul>
<li><a class="el" href="mf__nobs_8sas.html" title="Returns number of logical (undeleted) observations.">mf_nobs.sas</a> </li>
<li><a class="el" href="mf__verifymacvars_8sas.html" title="Checks if a set of macro variables exist / contain values.">mf_verifymacvars.sas</a> </li>
<li><a class="el" href="mm__getdirectories_8sas.html" title="Returns a dataset with the meta directory object for a physical path.">mm_getdirectories.sas</a> </li>
<li><a class="el" href="mm__updatestpsourcecode_8sas.html" title="Update the source code of a type 2 STP.">mm_updatestpsourcecode.sas</a> </li>
<li><a class="el" href="mp__dropmembers_8sas.html" title="Drops tables / views (if they exist) without warnings in the log.">mp_dropmembers.sas</a> </li>
<li><a class="el" href="mm__getservercontexts_8sas.html" title="Creates a dataset with all server contexts in all repos.">mm_getservercontexts.sas</a></li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">stpname=</td><td>Stored Process name. Avoid spaces - testing has shown that the check to avoid creating multiple STPs in the same folder with the same name does not work when the name contains spaces. </td></tr>
    <tr><td class="paramname">stpdesc=</td><td>Stored Process description (optional) </td></tr>
    <tr><td class="paramname">filename=</td><td>the name of the .sas program to run </td></tr>
    <tr><td class="paramname">directory=</td><td>The directory uri, or the actual path to the sas program (no trailing slash). If more than uri is found with that path, then the first one will be used. </td></tr>
    <tr><td class="paramname">tree=</td><td>The metadata folder uri, or the metadata path, in which to create the STP. </td></tr>
    <tr><td class="paramname">server=</td><td>The server which will run the STP. Server name or uri is fine. </td></tr>
    <tr><td class="paramname">outds=</td><td>The two level name of the output dataset. Will contain all the meta uris. Defaults to work.mm_createstp. </td></tr>
    <tr><td class="paramname">mDebug=</td><td>set to 1 to show debug messages in the log </td></tr>
    <tr><td class="paramname">stptype=</td><td>Default is 1 (STP code saved on filesystem). Set to 2 if source code is to be saved in metadata (9.3 and above feature). </td></tr>
    <tr><td class="paramname">minify=</td><td>set to YES to strip comments / blank lines etc </td></tr>
    <tr><td class="paramname">frefin=</td><td>fileref to use (enables change if there is a conflict). The filerefs are left open, to enable inspection after running the macro (or importing into an xmlmap if needed). </td></tr>
    <tr><td class="paramname">frefout=</td><td>fileref to use (enables change if there is a conflict) </td></tr>
    <tr><td class="paramname">repo=</td><td>ServerContext is tied to a repo, if you are not using the foundation repo then select a different one here</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>outds dataset containing the following columns:<ul>
<li>stpuri</li>
<li>prompturi</li>
<li>fileuri</li>
<li>texturi</li>
</ul>
</dd></dl>
<dl class="section version"><dt>Version</dt><dd>9.2 </dd></dl>
<dl class="section author"><dt>Author</dt><dd>Allan Bowe </dd></dl>

<p class="definition">Definition in file <a class="el" href="mm__createstp_8sas_source.html">mm_createstp.sas</a>.</p>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.17-->
<!-- start footer part -->
<div id="nav-path" class="navpath">
  <!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_0d92069d5a23b1d3125c326d74f1a07c.html">meta</a></li><li class="navelem"><a class="el" href="mm__createstp_8sas.html">mm_createstp.sas</a></li>
    <li class="footer">
      Generated by
      <a href="https://www.doxygen.org/index.html">
        <img class="footer" src="doxygen.png" alt="doxygen"
      /></a>
      1.8.18
    </li>
    <li>
      <i> For more information visit the </i>
      <a href="https://github.com/sasjs/core">Macro Core library</a>.
    </li>
  </ul>
</div>
